<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src/components/playlists/Playlists.tsx</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../prettify.css" />
    <link rel="stylesheet" href="../../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../../index.html">All files</a> / <a href="index.html">src/components/playlists</a> Playlists.tsx
    </h1>
    <div class='clearfix'>
    </div>
  </div>
  <div class='status-line medium'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">17x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">import { ErrorMessage, PlaylistItem, Search } from '../../components/';
import { PlayListTypes } from '../../state/playList/types';
import { clearPlaylist, fetchPlaylist } from '../../state/playList/actions';
import { getPlaylistData } from '../../state/playList/selectors';
import { getSearchPlaylistId } from '../../state/search/selectors';
import { getToken } from '../../state/user/selectors';
import { playListsIds } from '../../utils';
import { useDispatch, useSelector } from 'react-redux';
import CircularProgress from '@material-ui/core/CircularProgress';
import React, { FunctionComponent, ReactElement, useEffect, useMemo } from 'react';
&nbsp;
export const Playlists: FunctionComponent = (): ReactElement =&gt; {
  const token = useSelector(getToken);
  const playListData: PlayListTypes = useSelector(getPlaylistData);
  const searchPlaylistId: string[] = useSelector(getSearchPlaylistId);
  const dispatch = useDispatch();
&nbsp;
  const playlistInfo = useMemo((): PlayListTypes[] =&gt; {
    return (
      playListData &amp;&amp;
      Object.keys(playListData).reduce((acc, id: string): [] | PlayListTypes[] =&gt; {
        if (id !== 'loading' &amp;&amp; id !== 'isError') {
          const info = playListData[id];
&nbsp;
          return [...acc, { [id]: info }];
        }
&nbsp;
        return [...acc];
      }, [])
    );
  }, [playListData]);
&nbsp;
  useEffect(<span class="fstat-no" title="function not covered" >()</span> =&gt; {
<span class="cstat-no" title="statement not covered" >    if (searchPlaylistId.length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >      dispatch(fetchPlaylist(token, searchPlaylistId));</span>
    } else {
<span class="cstat-no" title="statement not covered" >      dispatch(clearPlaylist());</span>
<span class="cstat-no" title="statement not covered" >      dispatch(fetchPlaylist(token, playListsIds));</span>
    }
  }, [dispatch, searchPlaylistId]);
&nbsp;
  const results = (
    &lt;div className="flex w-full justify-between flex-wrap h-auto mt-2 mb-6"&gt;
      {playlistInfo?.map(
        (playlist: PlayListTypes): ReactElement =&gt; (
          &lt;PlaylistItem playlist={playlist} key={Object.keys(playlist)[0]} /&gt;
        ),
      )}
    &lt;/div&gt;
  );
&nbsp;
  return (
    &lt;div className="container overflow-x-hidden"&gt;
      &lt;Search /&gt;
      {playListData?.loading ? (
        &lt;div className="container flex justify-center items-center overflow-hidden w-full mt-20"&gt;
          &lt;CircularProgress size={100} color="primary" /&gt;
        &lt;/div&gt;
      ) : playListData?.isError ? (
        &lt;ErrorMessage message="ups..., Error, something went wrong" /&gt;
      ) : (
        results
      )}
    &lt;/div&gt;
  );
};
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Thu Apr 09 2020 13:23:23 GMT+0200 (Central European Summer Time)
</div>
</div>
<script src="../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../sorter.js"></script>
</body>
</html>
